version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - weather
  - play_song
  - inform
  - thanks
  - request_details 
  - bye
  - disagree
  - agree
  - FirstName
  - LastName
  - feedback
  - giving_place_type
  - giving_radius
  - giving_address
  - out_of_scope
  - ask_purpose


entities:
  - address
  - place_type
  - radius
  - city
  - song
  - query
  - number
  - firstN
  - lastN
  - feedback
responses:
  
  utter_greet:
  - text: "Hey! How can I help you?"

  utter_cheer_up:
  - text: "Here is something to cheer you up:"
    image: "https://i.imgur.com/nGF1K8f.jpg"

  utter_did_that_help:
  - text: "Did that help you?"
  utter_happy:
  - text: "Great, carry on!"
  utter_goodbye:
  - text: "Bye"
  utter_navigate:
  - text: "Navigating to {address}"
  utter_thanks:
    - text: "You are very welcome."
  utter_iamabot:
  - text: "I am a bot, powered by Rasa."
  utter_ask_firstN:
  - text: "Please provide your first name."
  utter_ask_lastN:
  - text: "Please provide your last name."
  utter_ask_feedback:
  - text: "Please provide your feedback."
  utter_submit:
  - text: "These are the values that you provided say yes or no to confirm:\n First name: {Fname}\n Last Name: {Lname}\n Feedback: {fdbk}"
  utter_ask_for_feedback:
  - text: Would you like to provide a feedback?
  
  utter_ask_address:
  - text: Where do you want to search?
  utter_ask_radius:
  - text: Specify search radius, in km.
  utter_ask_place_type:
  - text: Do you want to look for restaurants, coffee house, or both?
    buttons:
    - title: Restaurants
      payload: /giving_place_type{{"place_type":"restaurants"}}
    - title: Coffee Houses
      payload: /giving_place_type{{"place_type":"coffee houses"}}
    - title: Both
      payload: /giving_place_type{{"place_type":"both restaurants and coffee houses"}}
  utter_wrong_address:
  - text: Address not found. Check for spelling mistakes.
  utter_wrong_radius:
  - text: Please use a number for radius
  utter_purpose:
  - text: I can help you search for restaurants, coffee houses or both.
  utter_welcome:
  - text: You're welcome.
  utter_out_of_scope:
  - text: Sorry, but I can't handle that request
  utter_please_rephrase:
  - text: I'm sorry, I didn't understand that. Please rephrase your request.
  utter_default:
  - text: Sorry I didn't get that. Can you rephrase?
slots:
  feedback:
    type: text
    influence_conversation: true
    mappings:
    - type: custom
  firstN: 
    type: text
    influence_conversation: true
    mappings:
    - type: custom
  lastN: 
    type: text
    influence_conversation: true
    mappings:
    - type: custom
  lat_lon:
    type: text
    influence_conversation: false
    mappings:
    - type: custom
  address:
    type: list
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: address
  radius:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: radius
  place_type:
    type: categorical
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: place_type
      intent: giving_place_type
    values:
      - restaurants
      - coffee houses
      - both restaurants and coffee houses

actions:
  - action_weather_api
  - action_play_song
  - utter_greet
  - utter_goodbye
  - utter_thanks
  - action_last_name
  - action_feedback
  - action_submit
  - utter_ask_firstN
  - utter_ask_lastN
  - utter_ask_feedback
  - utter_ask_for_feedback
  - action_places_search
  - action_reset_address
  - action_beginning_search
  - action_validate_slot_mappings
  - utter_ask_place_type
  - utter_out_of_scope
  - utter_purpose
  - utter_welcome
  - validate_places_search_form
  - utter_please_rephrase

forms:
  form_info:
    required_slots:
      - firstN
      - lastN
      - feedback
  place_search_form:
    required_slots:
      - place_type
      - address
      - radius

  
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

